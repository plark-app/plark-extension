language: node_js

branches:
  only:
    - /^v.*$/

node_js:
  - "8"

before_install:
  - npm i -g npm@5.6.0

install:
  - npm install
  - npm run build:prod

script:
  - echo 'Successful installed!'

before_deploy:
  - echo 'ready to Deploy!'

deploy:
  provider: releases
  strategy: git
  api_key:
    secure: iplGKNk9rmf89Nl9IGT9jCPSxephVN8du6fdUO48VqyTc5nx4ZKO4AHYICEk8Be36Ct4Yrd9jAhfgisahmE0onjlq1jYoCj6M9PFWz1YV/Yp3FglY2k2tVZKCj6LtSRT7qMtBLkdCHRCVrypA5jNz6lLJDmm5FdPpZB3/0L9M8U9uXKYDiKe09zZidiLk3VqMEEyybNlZ6N3EqDs209ibCT9dzWojMasihwNbHzPTM2P4TijD36y8ETeduH1FbnPef4uR2dqFc+hzTxFNgLGXrRrzV98lKsOO3KQ6rvFR9iyU/V7HGkGQR8A7W8PRrbyDbLPpKItrgFOdg3OG4b7QZ2c7WfmFRWmx8lXpXEygqGPrSSTXcZjB/k4sf70GBg2o/Gig3DF/WOILbM8JrD5G7UwVwrzitWgc2y8H418ozZfK4wQ4Y/YEi8NN4BNKNZUUzA7T698yoULo8n78kK9e56j3GT7mgjte6MiUZV90jQvbBm0MK8Are/PIwRT2w9NjN/B74awVSXK5Bm5c8thkU8myVgeA+O2pQ8UeqpWD0A+wHn48SY1rZGCMYqu++usRCYSXpq3dSiCtIuScdSGUWFAt3AQTt6hCLnyOYFtlFNde5nsKnkSYyn6WcQv4nqAIRvMs+YPW5t6Po91NUBZiD+WHioTFMAyyKqPDRlvxDc=
  file_glob: true
  file: artifacts/plark-*
  skip_cleanup: true
  node_js: "8"
  on:
    repo: plark-app/plark-extension
    tags: true